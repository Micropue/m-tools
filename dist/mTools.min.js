var $m=(()=>{var p=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var x=(e,n)=>{for(var t in n)p(e,t,{get:n[t],enumerable:!0})},H=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of b(n))!w.call(e,s)&&s!==t&&p(e,s,{get:()=>n[s],enumerable:!(r=C(n,s))||r.enumerable});return e};var S=e=>H(p({},"__esModule",{value:!0}),e);var A={};x(A,{$:()=>v,ajax:()=>M,cookie:()=>L,date:()=>k});var L={getAll(){let n=document.cookie.split("; "),t=[];n.forEach(s=>t.push(s.split("=")));let r={};return t.forEach(s=>{r[s[0]]=s[1]}),r},set(e){let{key:n,value:t,path:r,secure:s,sameSite:l,expires:g}=e;document.cookie=`${n||"cookie"}=${t}; path=${r}; expires=${new Date(Date.now()+(g||86400)*1e3).toUTCString()}; ${l==="None"||s?"Secure; ":""} SameSite=${l}`},get(e){return this.getAll()[e]??!1},remove(e,n){document.cookie=`${e}=; path=${n||"/"}; expires=Thu, 01 Jan 1970 00:00:00 UTC`}};var y=e=>({value:e,attr:function(t,r){if(!t)throw new Error("can't find parameter: 'prop'");return r?(e.setAttribute(t,r),this):e.getAttribute(t)??!1},classList:[...e.classList],hasClass:function(t){return this.classList.includes(t)},addClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return e.classList.add(t),this},removeClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return e.classList.remove(t),this},toggleClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return this.classList.includes(t)?e.classList.remove(t):e.classList.add(t),this},append:function(t){let r=document.createElement("span");r.innerHTML=t;let s=Array.from(r.childNodes);for(let l of s)e.append(l);return this},prepend:function(t){let r=document.createElement("span");r.innerHTML=t;let s=Array.from(r.childNodes).reverse();for(let l of s)e.prepend(l);return this},focus:function(){return e.focus(),this},blur:function(){return e.blur(),this},css:function(t,r){return r?(t!=="length"&&t!=="parentRule"?e.style.setProperty(t.toString(),r.toString()):console.warn(`\u5C1D\u8BD5\u4FEE\u6539\u53EA\u8BFB\u5C5E\u6027: ${t}`),this):getComputedStyle(e)[t]||null},on:function(t,r){return e.addEventListener(t.toString(),r),this},offset:function(){return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,top:e.getBoundingClientRect().top,left:e.getBoundingClientRect().left,hide:function(){let t=e?.getAttribute("style");return e.setAttribute("style",t+"; display: none"),this},show:function(){let t=e?.getAttribute("style");return t?e.setAttribute("style",t.replace(/display:[ ]*none/,"")):e.style.display="initial",this},remove:function(){e.remove()},html:function(t){return e.innerHTML=t,this},text:function(t){return e.innerText=t,this},innerWidth:function(){return window.innerWidth},innerHeight:function(){return window.innerHeight},outerWidth:function(){return window.outerWidth},outerHeight:function(){return window.outerHeight},scrollTo:function(t){return e.scrollTop=t,this},fadeIn:function(){let t=0;this.show();function r(){e.style.opacity=(t+=.05).toString(),t<1?requestAnimationFrame(r):e.style.opacity="1"}return requestAnimationFrame(r),this},fadeOut:function(){let t=1,{hide:r}=this;function s(){e.style.opacity=(t-=.05).toString(),t>0?requestAnimationFrame(s):(e.style.opacity="0",r())}return requestAnimationFrame(s),this},val:function(t){return t?(e.value=t,this):e.value}});function v(e){let n=document.querySelectorAll(e);if(n.length>1){let t=[];return n.forEach(r=>t.push(y(r))),t}else return y(n[0])}function M(e){return new Promise((n,t)=>{if(!e)throw new Error("can't find 'config' on the args");if(!e.url)throw new Error("can't find parameter 'url'");let{url:r}=e,s=e.type=="GET"?"GET":"POST",l=e.method=="xhr"?"xhr":"fetch",g=e.requestHeader,d=e.data,h=e.success||function(){},c=e.error||function(){},T=E(d,s);function E(o,a){let u="";for(let i of Object.keys(o))u+=`${i}=${o[i]}&`;if(u=[...u].filter((i,m)=>m!=u.length-1).join(""),a==="GET")return"?".concat(u);if(a==="POST")return u}function f(o){try{return JSON.parse(o)}catch{return o}}if(l=="xhr"){let o=new XMLHttpRequest;o.open(s,r+(s=="GET"?T:"")),s=="POST"&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");for(let a in g)o.setRequestHeader(a,g[a]);o.send(s=="POST"?T:null),o.onloadend=a=>{let{responseText:u}=o;o.status===200?(h(f(u),o.status),n({data:f(u),status:o.status})):(c(f(u),o.status,""),t({data:f(u),status:o.status,msg:a}))},o.onerror=a=>{c(null,null,a),t({data:null,status:null,msg:a})}}else if(l=="fetch"){let o=s=="GET"?null:new FormData;if(o)for(let i in d)o.append(i,d[i]);let a=new Headers;for(let i in g)a.append(i,g[i]);let u=new Request(r+(s=="GET"?T:""),{method:s,body:o,headers:a});fetch(u).then(i=>{i.status===200?i.json().then(m=>{h(m,i.status),n({data:m,status:i.status})}).catch(()=>{c("",null,"can't parse JSON"),t({data:"",status:i.status,msg:"can't parse JSON"})}):i.json().then(m=>{c(m,i.status),t({data:m,status:i.status,msg:null})}).catch(()=>{c("",null,"can't parse JSON"),t({data:"",status:i.status,msg:"can't parse JSON"})})}).catch(()=>{c(null,null),t(null)})}})}var k=(e="Y-m-d H:i:s")=>{let n=new Date,t=n.getFullYear(),r=n.getMonth()+1<10?`0${n.getMonth()+1}`:`${n.getMonth()+1}`,s=n.getDate()<10?`0${n.getDate()}`:`${n.getDate()}`,l=n.getDay(),g=n.getTime(),d=n.getHours()<10?`0${n.getHours()}`:`${n.getHours()}`,h=n.getMinutes()<10?`0${n.getMinutes()}`:`${n.getMinutes()}`,c=n.getSeconds()<10?`0${n.getSeconds()}`:`${n.getSeconds()}`,T=["January","February","March","April","May","June","July","August","September","October","November","December"];return{year:t,month:r,date:s,day:l,timestamp:g,hour:d,minute:h,second:c,toString:()=>{let f=[{regex:/Y/,text:t},{regex:/m/,text:r},{regex:/F/,text:T[Number(r)-1]},{regex:/d/,text:s},{regex:/w/,text:l},{regex:/H/,text:d},{regex:/i/,text:h},{regex:/s/,text:c},{regex:/A/,text:Number(d)>=12?"PM":"AM"}];return(()=>{let a=e||"Y-m-d H:i:s";return f.forEach(u=>{a=a.replace(new RegExp(u.regex,"g"),String(u.text))}),a})()}}};return S(A);})();
