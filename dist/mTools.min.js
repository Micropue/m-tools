var $m=(()=>{var g=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var H=(e,s)=>{for(var t in s)g(e,t,{get:s[t],enumerable:!0})},L=(e,s,t,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let r of w(s))!b.call(e,r)&&r!==t&&g(e,r,{get:()=>s[r],enumerable:!(n=y(s,r))||n.enumerable});return e};var S=e=>L(g({},"__esModule",{value:!0}),e);var M={};H(M,{$:()=>x,ajax:()=>k,cookie:()=>v});var v={getAll(){let s=document.cookie.split("; "),t=[];s.forEach(r=>t.push(r.split("=")));let n={};return t.forEach(r=>{n[r[0]]=r[1]}),n},set(e){let{key:s,value:t,path:n,secure:r,sameSite:l,expires:d}=e;document.cookie=`${s||"cookie"}=${t}; path=${n}; expires=${new Date(Date.now()+(d||86400)*1e3).toUTCString()}; ${l==="None"||r?"Secure; ":""} SameSite=${l}`},get(e){return this.getAll()[e]??!1},remove(e,s){document.cookie=`${e}=; path=${s||"/"}; expires=Thu, 01 Jan 1970 00:00:00 UTC`}};var p=e=>({value:e,attr:function(t,n){if(!t)throw new Error("can't find parameter: 'prop'");return n?(e.setAttribute(t,n),this):e.getAttribute(t)??!1},classList:[...e.classList],hasClass:function(t){return this.classList.includes(t)},addClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return e.classList.add(t),this},removeClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return e.classList.remove(t),this},toggleClass:function(t){if(!t)throw new Error("can't find parameter: 'className'");return this.classList.includes(t)?e.classList.remove(t):e.classList.add(t),this},append:function(t){let n=document.createElement("span");n.innerHTML=t;let r=Array.from(n.childNodes);for(let l of r)e.append(l);return this},prepend:function(t){let n=document.createElement("span");n.innerHTML=t;let r=Array.from(n.childNodes).reverse();for(let l of r)e.prepend(l);return this},focus:function(){return e.focus(),this},blur:function(){return e.blur(),this},css:function(t,n){return n?(t!=="length"&&t!=="parentRule"?e.style.setProperty(t.toString(),n.toString()):console.warn(`\u5C1D\u8BD5\u4FEE\u6539\u53EA\u8BFB\u5C5E\u6027: ${t}`),this):getComputedStyle(e)[t]||null},on:function(t,n){return e.addEventListener(t.toString(),n),this},offset:function(){return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,top:e.getBoundingClientRect().top,left:e.getBoundingClientRect().left,hide:function(){let t=e?.getAttribute("style");return e.setAttribute("style",t+"; display: none"),this},show:function(){let t=e?.getAttribute("style");return t?e.setAttribute("style",t.replace(/display:[ ]*none/,"")):e.style.display="initial",this},remove:function(){e.remove()},html:function(t){return e.innerHTML=t,this},text:function(t){return e.innerText=t,this},innerWidth:function(){return window.innerWidth},innerHeight:function(){return window.innerHeight},outerWidth:function(){return window.outerWidth},outerHeight:function(){return window.outerHeight},scrollTo:function(t){return e.scrollTop=t,this},fadeIn:function(){let t=0;this.show();function n(){e.style.opacity=(t+=.05).toString(),t<1?requestAnimationFrame(n):e.style.opacity="1"}return requestAnimationFrame(n),this},fadeOut:function(){let t=1,{hide:n}=this;function r(){e.style.opacity=(t-=.05).toString(),t>0?requestAnimationFrame(r):(e.style.opacity="0",n())}return requestAnimationFrame(r),this},val:function(t){return t?(e.value=t,this):e.value}});function x(e){let s=document.querySelectorAll(e);if(s.length>1){let t=[];return s.forEach(n=>t.push(p(n))),t}else return p(s[0])}function k(e){return new Promise((s,t)=>{if(!e)throw new Error("can't find 'config' on the args");if(!e.url)throw new Error("can't find parameter 'url'");let{url:n}=e,r=e.type=="GET"?"GET":"POST",l=e.method=="xhr"?"xhr":"fetch",d=e.requestHeader,m=e.data,E=e.success||function(){},f=e.error||function(){},T=C(m,r);function C(o,a){let u="";for(let i of Object.keys(o))u+=`${i}=${o[i]}&`;if(u=[...u].filter((i,c)=>c!=u.length-1).join(""),a==="GET")return"?".concat(u);if(a==="POST")return u}function h(o){try{return JSON.parse(o)}catch{return o}}if(l=="xhr"){let o=new XMLHttpRequest;o.open(r,n+(r=="GET"?T:"")),r=="POST"&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");for(let a in d)o.setRequestHeader(a,d[a]);o.send(r=="POST"?T:null),o.onloadend=a=>{let{responseText:u}=o;o.status===200?(E(h(u),o.status),s({data:h(u),status:o.status})):(f(h(u),o.status,""),t({data:h(u),status:o.status,msg:a}))},o.onerror=a=>{f(null,null,a),t({data:null,status:null,msg:a})}}else if(l=="fetch"){let o=r=="GET"?null:new FormData;if(o)for(let i in m)o.append(i,m[i]);let a=new Headers;for(let i in d)a.append(i,d[i]);let u=new Request(n+(r=="GET"?T:""),{method:r,body:o,headers:a});fetch(u).then(i=>{i.status===200?i.json().then(c=>{E(c,i.status),s({data:c,status:i.status})}).catch(()=>{f("",null,"can't parse JSON"),t({data:"",status:i.status,msg:"can't parse JSON"})}):i.json().then(c=>{f(c,i.status),t({data:c,status:i.status,msg:null})}).catch(()=>{f("",null,"can't parse JSON"),t({data:"",status:i.status,msg:"can't parse JSON"})})}).catch(()=>{f(null,null),t(null)})}})}return S(M);})();
